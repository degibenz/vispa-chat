# vispa-chat

Сервер для чатиков на базе asyncio & mongodb


Chat/Auth 8080 port
-----------------------------

## Client
* GET /client/{id}/ - получение информации о пользователе по ID
* POST /client/create/ - Создание новой учетной записи на сервере
* POST /client/auth/ - авторизация пользователя по логину и паролю
* POST /client/delete/ - удаляет запись пользователя


## Chat
* GET /chat/byId/{id}/ - получение информации о чате по ID
* GET /chat/list/ - получение списка доступных чатов
* POST /chat/create/ - создать новый чат
* POST /chat/delete/ - удаляет запись о чате 

Передача сообщений между пользователями осуществляется по WebScokets

GET /chat/ws/{chat_uid}/ - адрес для подключения клиента

Протокл передачи сообщений выглядит следующим образом:

- Чтобы послать сообщение в общий чат надо послать

  ``` python  
  {
    'msg' : 'Hello'
  }
  ```
  
- Чтобы послать конкретному пользователю, надо послать так

  ``` python  
  {
    'msg' : 'Hello',
    'receiver' : '4235sdfq' # индификатор другого клиента
  }
  ```
  
- В случае возникновения какой-либо ошибки клиент получит сообщение след, вида

   ``` python  
   {
     'status' : False,
     'error' : 'error description'
   }
   ```